# Configuration file to fetch all ecal cond db objects and print their values for a given channel in the barrel
# $Id: $
# Created by: Shahram rahatlou, Roma1, 22 Feb 2006

process TEST = {

	path p = { get, prod  }

        #service = Timing { }

	es_source = PoolDBESSource { VPSet toGet = {
                                     {string record = "EcalPedestalsRcd"
                                      string tag = "EcalPedestals"
                                     },
                                     {string record = "EcalWeightXtalGroupsRcd"
                                      string tag = "EcalWeightXtalGroups"
                                     },
                                     {string record = "EcalTBWeightsRcd"
                                      string tag = "EcalTBWeights"
                                     },
                                     {string record = "EcalGainRatiosRcd"
                                      string tag = "EcalGainRatios"
                                     },
                                     {string record = "EcalIntercalibConstantsRcd"
                                      string tag = "EcalIntercalibConstants"
                                     },
                                     {string record = "EcalADCToGeVConstantRcd"
                                      string tag = "EcalADCToGeVConstant"
                                     },
                                     {string record = "EcalWeightRecAlgoWeightsRcd"
                                      string tag = "EcalWeightRecAlgoWeights"
                                     }
                                   }
		    		           bool loadAll = true
                                   string connect = "sqlite_file:ecalobjects.db"
			                 string timetype = "runnumber"
			}

	module print = AsciiOutputModule { }
	

	source = EmptySource {
                   untracked int32 maxEvents = 10
                   untracked uint32 firstRun = 72999
                   untracked uint32 numberEventsInRun = 2
               }

      module prod = EcalObjectAnalyzer{}

	module get = EventSetupRecordDataGetter {
                     VPSet toGet = {
                                     {string record = "EcalPedestalsRcd"
                                      vstring data  = {"EcalPedestals"}
                                     },
                                     {string record = "EcalWeightXtalGroupsRcd"
                                      vstring data  = {"EcalWeightXtalGroups"}
                                     },
                                     {string record = "EcalTBWeightsRcd"
                                      vstring data  = {"EcalTBWeights"}
                                     },
                                     {string record = "EcalGainRatiosRcd"
                                      vstring data  = {"EcalGainRatios"}
                                     },
                                     {string record = "EcalIntercalibConstantsRcd"
                                      vstring data  = {"EcalIntercalibConstants"}
                                     },
                                     {string record = "EcalADCToGeVConstantRcd"
                                      vstring data  = {"EcalADCToGeVConstant"}
                                     },
                                     {string record = "EcalWeightRecAlgoWeightsRcd"
                                      vstring data  = {"EcalWeightRecAlgoWeights"}
                                     }
	                             }
	               untracked bool verbose = true 
	             }
}
