# Configuration file to fetch all ecal cond db objects and print their values for a given channel in the barrel
# $Id: print_obj_frontier.cfg,v 1.1 2007/09/14 10:53:32 meridian Exp $
# Created by: Shahram rahatlou, Roma1, 22 Feb 2006

process TEST = {
    
    path p = { prod  }
    
    service = Timing { }

include "CondCore/DBCommon/data/CondDBSetup.cfi"

es_source ecalConditions = PoolDBESSource  
{ 
    using CondDBSetup
    VPSet toGet = {
        { string record = "EcalIntercalibConstantsRcd"
		string tag = "EcalIntercalibConstants_trivial" },
        { string record = "EcalPedestalsRcd"
		string tag = "EcalPedestals_trivial" }
,
        { string record = "EcalADCToGeVConstantRcd"
		string tag = "EcalADCToGeVConstant_trivial" }
,
        { string record = "EcalGainRatiosRcd"
		string tag = "EcalGainRatios_trivial" }
,
	    { string record = "EcalWeightXtalGroupsRcd"
		string tag = "EcalWeightXtalGroups_trivial" }
	    ,
	    { string record = "EcalTBWeightsRcd"
		string tag = "EcalTBWeights_trivial" },
            { 
               string record = "EcalLaserAlphasRcd" 
               string tag = "EcalLaserAlphas_trivial" 
            },
            { 
               string record = "EcalLaserAPDPNRatiosRcd" 
               string tag = "EcalLaserAPDPNRatios_trivial" 
            },
            { 
               string record = "EcalLaserAPDPNRatiosRefRcd" 
               string tag = "EcalLaserAPDPNRatiosRef_trivial" 
            }
	    
        #,
        #{ string record = "EcalIntercalibConstantsRcd"
	    #  string tag = "miscalib0.04" }
        #,
        #{ string record = "EcalIntercalibConstantsRcd"
	    #  string tag = "miscalibINV0.04" }
	}
    string connect = "sqlite_file:DB.db"
    untracked bool siteLocalConfig = true
    untracked uint32 authenticationMethod = 1
    string timetype = "runnumber"
    untracked uint32 messagelevel = 0 
    }

es_source src2 = EcalTrivialConditionRetriever 
{
    untracked bool producedEcalWeights = false
    untracked bool producedEcalPedestals = false
    untracked bool producedEcalIntercalibConstants = false
    untracked bool producedEcalGainRatios = false
    untracked bool producedEcalADCToGeVConstant = false
    untracked bool producedEcalLaserCorrection = false
    untracked bool weightsForTB = false
    #       If set true reading optimized weights (3+5 weights) from file 
    untracked bool getWeightsFromFile = true
    }
    
    
    untracked PSet maxEvents = {untracked int32 input = 1 }   
    
    source = EmptySource {
	untracked uint32 firstRun = 72999
	untracked uint32 numberEventsInRun = 1
    }
    
    module prod = EcalObjectAnalyzer{}
    
    module get = EventSetupRecordDataGetter {
	VPSet toGet = {
	    {string record = "EcalPedestalsRcd"
		vstring data  = {"EcalPedestals"}
	    },
	    {string record = "EcalWeightXtalGroupsRcd"
		vstring data  = {"EcalWeightXtalGroups"}
	    },
	    {string record = "EcalTBWeightsRcd"
		vstring data  = {"EcalTBWeights"}
	    },
	    {string record = "EcalGainRatiosRcd"
		vstring data  = {"EcalGainRatios"}
	    },
	    {string record = "EcalIntercalibConstantsRcd"
		vstring data  = {"EcalIntercalibConstants"}
	    },
	    {string record = "EcalADCToGeVConstantRcd"
		vstring data  = {"EcalADCToGeVConstant"}
	    }
	}
	untracked bool verbose = true 
    }
}
